# Generated Image Component Usage Guide

## Overview

The `GeneratedImageDisplay` component is designed to display images generated by Google Cloud's Vertex AI that are stored in Supabase. This component provides a seamless way to integrate AI-generated images into the Windows Doors CA website with proper loading states, error handling, and fallback options.

## Component Features

- **Automatic Supabase Storage Integration**: Fetches image URLs from Supabase storage
- **Loading States**: Shows a loading skeleton while images are being fetched
- **Error Handling**: Falls back to a placeholder image if the generated image fails to load
- **Responsive Design**: Supports various sizing and styling options
- **Image Optimization**: Leverages Next.js Image component for optimal performance

## Installation

The component is already installed in the project at:

```bash
src/components/GeneratedImageDisplay.tsx
```

## Basic Usage

```jsx
import GeneratedImageDisplay from '@/components/GeneratedImageDisplay';

// In your component:
<GeneratedImageDisplay 
  imagePath="/windows/double-hung/main-hero.jpg"
  alt="Double Hung Windows"
  width={800}
  height={600}
/>
```

## Props Reference

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `imagePath` | string | (required) | Path to the image in Supabase storage |
| `alt` | string | (required) | Alternative text for the image |
| `width` | number | (required) | Width of the image in pixels |
| `height` | number | (required) | Height of the image in pixels |
| `className` | string | `''` | Optional CSS class name |
| `fallbackImageUrl` | string | `/images/placeholder.jpg` | Fallback image URL if the generated image is not available |
| `showLoading` | boolean | `true` | Whether to show loading state |
| `objectFit` | string | `'cover'` | CSS object-fit property |
| `objectPosition` | string | `'center'` | CSS object-position property |
| `quality` | number | `75` | Image quality (1-100) |
| `priority` | boolean | `false` | Whether to prioritize loading |

## Advanced Usage Examples

### With Custom Styling

```jsx
<GeneratedImageDisplay 
  imagePath="/doors/entry/modern-style.jpg"
  alt="Modern Entry Door"
  width={1200}
  height={800}
  className="rounded-lg shadow-lg hover:opacity-90 transition-opacity"
  objectFit="contain"
  objectPosition="center"
  quality={90}
  priority={true}
/>
```

### With Custom Fallback Image

```jsx
<GeneratedImageDisplay 
  imagePath="/windows/casement/white-frame.jpg"
  alt="White Casement Window"
  width={600}
  height={400}
  fallbackImageUrl="/images/fallbacks/window-fallback.jpg"
  showLoading={false}
/>
```

## Integration with Existing Components

The `GeneratedImageDisplay` component can be used as a drop-in replacement for the standard `Image` component from Next.js in existing components:

```jsx
// Before
<Image 
  src="/static/images/windows/double-hung.jpg"
  alt="Double Hung Windows"
  width={800}
  height={600}
  className="product-image"
/>

// After
<GeneratedImageDisplay 
  imagePath="/windows/double-hung/product-main.jpg"
  alt="Double Hung Windows"
  width={800}
  height={600}
  className="product-image"
/>
```

## Error Handling

The component handles errors internally and will automatically display the fallback image if:

1. The Supabase connection fails
2. The image path doesn't exist in storage
3. The image fails to load for any reason

## Performance Considerations

- Use the `priority` prop for images that are above the fold
- Set appropriate `width` and `height` to avoid layout shifts
- Use the `quality` prop to balance image quality and performance

## Browser Compatibility

The component is compatible with all modern browsers and degrades gracefully in older browsers.

## Troubleshooting

If images are not displaying correctly:

1. Check that the image path is correct and matches the path in Supabase storage
2. Verify that Supabase environment variables are properly configured
3. Check the browser console for any error messages
4. Ensure the image has been successfully generated and uploaded to Supabase

## Related Documentation

- [Image Generation Implementation Plan](./image-generation-implementation-plan.md)
- [CSV Processing Plan](./csv-processing-plan.md)
